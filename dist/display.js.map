{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./node_modules/face-pack/src/util/template.ts","webpack:///./node_modules/face-pack/src/FacePacksImporter.ts","webpack:///./node_modules/face-pack/src/util/importJSON.ts","webpack:///./node_modules/face-pack/src/FacePackage.ts","webpack:///./src/display.ts","webpack:///./node_modules/face-pack/src/FaceDisplay/FaceDisplay.ts","webpack:///./node_modules/simple-img-modal/src/deploy.tsx","webpack:///./node_modules/simple-img-modal/src/Modal.tsx","webpack:///./node_modules/simple-img-modal/src/ImageView.tsx","webpack:///./node_modules/simple-img-modal/src/Indicator.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","ReactDOM","processTemplate","default","left_bracket","right_bracket","replacePlaceHolder","this","LEFT_BRACKET","RIGHT_BRACKET","text","inBracket","newText","bracketContent","char","str","importExternalFacePacks","importJSON_1","FacePackage_1","async","url","json","importJSON","forEach","pack","faces","face","getFaceFullUrl","Error","fetch","method","then","response","ok","status","statusText","template_1","parentPack","p_url","__importDefault","mod","FacePacksImporter_1","FaceDisplay_1","deploy_1","display","_attachListeners","document","querySelectorAll","showModal","v","render","facePackages","imgClassName","imgInlineStyle","leftBracket","rightBracket","_faceMap","Map","_className","_inlineStyle","set","id","onElement","raw","innerHTML","result","placeHolder","hideModal","_updateModal","clickHandler","_removeListeners","Modal_1","react_dom_1","react_1","container","getElementById","regex","e","img","target","dataset","fullUrl","srcset","maxPx","maxPxUrl","split","exec","length","nowPx","parseInt","src","imgSrc","opacity","createElement","Modal","handleChangeOpacity","nodeList","ele","addEventListener","removeEventListener","unmountComponentAtNode","ImageView_1","props","onClick","style","visibility","position","top","bottom","left","right","width","zIndex","alignItems","justifyContent","backgroundColor","transition","margin","overflow","maxHeight","pop","height","Indicator_1","ImageView","Component","super","state","showIndicator","level","IndicateLevel","PRELOAD","loaded","Indicator","assign","className","onLoad","setState","hidden","onError","ERROR","IndicateLevelSVG","alt","description"],"mappings":"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","file":"display.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","module.exports = React;","module.exports = ReactDOM;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.processTemplate = void 0;\r\nclass Template {\r\n    constructor(left_bracket, right_bracket, replacePlaceHolder) {\r\n        this.replacePlaceHolder = replacePlaceHolder;\r\n        this.LEFT_BRACKET = left_bracket;\r\n        this.RIGHT_BRACKET = right_bracket;\r\n    }\r\n    async process(text) {\r\n        let inBracket = false;\r\n        let newText = \"\";\r\n        let bracketContent = \"\";\r\n        for (const char of text) {\r\n            switch (char) {\r\n                case this.LEFT_BRACKET:\r\n                    if (inBracket) {\r\n                        if (this.LEFT_BRACKET == this.RIGHT_BRACKET) {\r\n                            inBracket = false;\r\n                            newText += await this.replacePlaceHolder(bracketContent);\r\n                            bracketContent = \"\";\r\n                        }\r\n                        else {\r\n                            inBracket = false;\r\n                            newText += `${this.LEFT_BRACKET}bracketContent${this.LEFT_BRACKET}`;\r\n                            bracketContent = \"\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        inBracket = true;\r\n                    }\r\n                    break;\r\n                case this.RIGHT_BRACKET:\r\n                    if (inBracket) {\r\n                        inBracket = false;\r\n                        newText += await this.replacePlaceHolder(bracketContent);\r\n                        bracketContent = \"\";\r\n                    }\r\n                    else {\r\n                        newText += char;\r\n                    }\r\n                    break;\r\n                default:\r\n                    if (inBracket) {\r\n                        bracketContent += char;\r\n                    }\r\n                    else {\r\n                        newText += char;\r\n                    }\r\n            }\r\n        }\r\n        if (bracketContent != '') {\r\n            newText += this.LEFT_BRACKET + bracketContent;\r\n        }\r\n        return newText;\r\n    }\r\n}\r\nexports.default = Template;\r\nfunction processTemplate(left_bracket, right_bracket, replacePlaceHolder, str) {\r\n    let inBracket = false, newText = \"\", bracketContent = \"\";\r\n    for (const char of str) {\r\n        switch (char) {\r\n            case left_bracket:\r\n                if (inBracket) {\r\n                    if (left_bracket == right_bracket) {\r\n                        inBracket = false;\r\n                        newText += replacePlaceHolder(bracketContent);\r\n                        bracketContent = \"\";\r\n                    }\r\n                    else {\r\n                        inBracket = false;\r\n                        newText += `${left_bracket}bracketContent${left_bracket}`;\r\n                        bracketContent = \"\";\r\n                    }\r\n                }\r\n                else {\r\n                    inBracket = true;\r\n                }\r\n                break;\r\n            case right_bracket:\r\n                if (inBracket) {\r\n                    inBracket = false;\r\n                    newText += replacePlaceHolder(bracketContent);\r\n                    bracketContent = \"\";\r\n                }\r\n                else {\r\n                    newText += char;\r\n                }\r\n                break;\r\n            default:\r\n                if (inBracket) {\r\n                    bracketContent += char;\r\n                }\r\n                else {\r\n                    newText += char;\r\n                }\r\n        }\r\n    }\r\n    if (bracketContent != '') {\r\n        newText += left_bracket + bracketContent;\r\n    }\r\n    return newText;\r\n}\r\nexports.processTemplate = processTemplate;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmFjZS1wYWNrL3NyYy91dGlsL3RlbXBsYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLE1BQXFCLFFBQVE7SUFHekIsWUFBWSxZQUFvQixFQUFFLGFBQXFCLEVBQUUsa0JBQW9EO1FBQ3pHLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQTtRQUM1QyxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQTtRQUNoQyxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQTtJQUN0QyxDQUFDO0lBRUQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFZO1FBQ3RCLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQTtRQUNyQixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUE7UUFDaEIsSUFBSSxjQUFjLEdBQUcsRUFBRSxDQUFBO1FBQ3ZCLEtBQUssTUFBTSxJQUFJLElBQUksSUFBSSxFQUFFO1lBQ3JCLFFBQVEsSUFBSSxFQUFFO2dCQUNWLEtBQUssSUFBSSxDQUFDLFlBQVk7b0JBQ2xCLElBQUksU0FBUyxFQUFFO3dCQUNYLElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFOzRCQUN6QyxTQUFTLEdBQUcsS0FBSyxDQUFBOzRCQUNqQixPQUFPLElBQUksTUFBTSxJQUFJLENBQUMsa0JBQWtCLENBQUMsY0FBYyxDQUFDLENBQUE7NEJBQ3hELGNBQWMsR0FBRyxFQUFFLENBQUE7eUJBQ3RCOzZCQUFNOzRCQUNILFNBQVMsR0FBRyxLQUFLLENBQUE7NEJBQ2pCLE9BQU8sSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLGlCQUFpQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUE7NEJBQ25FLGNBQWMsR0FBRyxFQUFFLENBQUE7eUJBQ3RCO3FCQUNKO3lCQUFNO3dCQUNILFNBQVMsR0FBRyxJQUFJLENBQUE7cUJBQ25CO29CQUNELE1BQUs7Z0JBQ1QsS0FBSyxJQUFJLENBQUMsYUFBYTtvQkFDbkIsSUFBSSxTQUFTLEVBQUU7d0JBQ1gsU0FBUyxHQUFHLEtBQUssQ0FBQTt3QkFDakIsT0FBTyxJQUFJLE1BQU0sSUFBSSxDQUFDLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxDQUFBO3dCQUN4RCxjQUFjLEdBQUcsRUFBRSxDQUFBO3FCQUN0Qjt5QkFBTTt3QkFDSCxPQUFPLElBQUksSUFBSSxDQUFBO3FCQUNsQjtvQkFDRCxNQUFLO2dCQUNUO29CQUNJLElBQUksU0FBUyxFQUFFO3dCQUNYLGNBQWMsSUFBSSxJQUFJLENBQUE7cUJBQ3pCO3lCQUFNO3dCQUNILE9BQU8sSUFBSSxJQUFJLENBQUE7cUJBQ2xCO2FBQ1I7U0FDSjtRQUNELElBQUksY0FBYyxJQUFJLEVBQUUsRUFBRTtZQUN0QixPQUFPLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxjQUFjLENBQUE7U0FDaEQ7UUFDRCxPQUFPLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0NBQ0o7QUFwREQsMkJBb0RDO0FBQ0QsU0FBZ0IsZUFBZSxDQUFDLFlBQW9CLEVBQUUsYUFBcUIsRUFBRSxrQkFBMkMsRUFBRSxHQUFXO0lBQ2pJLElBQUksU0FBUyxHQUFHLEtBQUssRUFBRSxPQUFPLEdBQUcsRUFBRSxFQUFFLGNBQWMsR0FBRyxFQUFFLENBQUE7SUFDeEQsS0FBSyxNQUFNLElBQUksSUFBSSxHQUFHLEVBQUU7UUFDcEIsUUFBUSxJQUFJLEVBQUU7WUFDVixLQUFLLFlBQVk7Z0JBQ2IsSUFBSSxTQUFTLEVBQUU7b0JBQ1gsSUFBSSxZQUFZLElBQUksYUFBYSxFQUFFO3dCQUMvQixTQUFTLEdBQUcsS0FBSyxDQUFBO3dCQUNqQixPQUFPLElBQUksa0JBQWtCLENBQUMsY0FBYyxDQUFDLENBQUE7d0JBQzdDLGNBQWMsR0FBRyxFQUFFLENBQUE7cUJBQ3RCO3lCQUFNO3dCQUNILFNBQVMsR0FBRyxLQUFLLENBQUE7d0JBQ2pCLE9BQU8sSUFBSSxHQUFHLFlBQVksaUJBQWlCLFlBQVksRUFBRSxDQUFBO3dCQUN6RCxjQUFjLEdBQUcsRUFBRSxDQUFBO3FCQUN0QjtpQkFDSjtxQkFBTTtvQkFDSCxTQUFTLEdBQUcsSUFBSSxDQUFBO2lCQUNuQjtnQkFDRCxNQUFLO1lBQ1QsS0FBSyxhQUFhO2dCQUNkLElBQUksU0FBUyxFQUFFO29CQUNYLFNBQVMsR0FBRyxLQUFLLENBQUE7b0JBQ2pCLE9BQU8sSUFBSSxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsQ0FBQTtvQkFDN0MsY0FBYyxHQUFHLEVBQUUsQ0FBQTtpQkFDdEI7cUJBQU07b0JBQ0gsT0FBTyxJQUFJLElBQUksQ0FBQTtpQkFDbEI7Z0JBQ0QsTUFBSztZQUNUO2dCQUNJLElBQUksU0FBUyxFQUFFO29CQUNYLGNBQWMsSUFBSSxJQUFJLENBQUE7aUJBQ3pCO3FCQUFNO29CQUNILE9BQU8sSUFBSSxJQUFJLENBQUE7aUJBQ2xCO1NBQ1I7S0FDSjtJQUNELElBQUksY0FBYyxJQUFJLEVBQUUsRUFBRTtRQUN0QixPQUFPLElBQUksWUFBWSxHQUFHLGNBQWMsQ0FBQTtLQUMzQztJQUNELE9BQU8sT0FBTyxDQUFBO0FBQ2xCLENBQUM7QUF4Q0QsMENBd0NDIn0=","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.importExternalFacePacks = void 0;\r\nconst importJSON_1 = require(\"./util/importJSON\");\r\nconst FacePackage_1 = require(\"./FacePackage\");\r\nasync function importExternalFacePacks(url) {\r\n    const json = await importJSON_1.importJSON(url);\r\n    if (json) {\r\n        json.forEach((pack) => {\r\n            pack.faces.forEach((face) => {\r\n                face.url = FacePackage_1.getFaceFullUrl(face, pack);\r\n            });\r\n        });\r\n        return json;\r\n    }\r\n    throw new Error(`Try to load FacePacks from '${url}' failed.`);\r\n}\r\nexports.importExternalFacePacks = importExternalFacePacks;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmFjZVBhY2tzSW1wb3J0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmFjZS1wYWNrL3NyYy9GYWNlUGFja3NJbXBvcnRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxrREFBOEM7QUFDOUMsK0NBQTJEO0FBQ3BELEtBQUssVUFBVSx1QkFBdUIsQ0FBQyxHQUFXO0lBQ3JELE1BQU0sSUFBSSxHQUF1QixNQUFNLHVCQUFVLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDdEQsSUFBSSxJQUFJLEVBQUU7UUFDTixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDeEIsSUFBSSxDQUFDLEdBQUcsR0FBRyw0QkFBYyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQTtZQUN6QyxDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO1FBQ0YsT0FBTyxJQUFJLENBQUE7S0FDZDtJQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsK0JBQStCLEdBQUcsV0FBVyxDQUFDLENBQUE7QUFDbEUsQ0FBQztBQVhELDBEQVdDIn0=","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.importJSON = void 0;\r\nasync function importJSON(url) {\r\n    return fetch(url, { method: \"GET\" }).then((response) => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n        else {\r\n            throw new Error(`Fetch Error:Return HTTP ${response.status}, ${response.statusText}`);\r\n        }\r\n    });\r\n}\r\nexports.importJSON = importJSON;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wb3J0SlNPTi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYWNlLXBhY2svc3JjL3V0aWwvaW1wb3J0SlNPTi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBTyxLQUFLLFVBQVUsVUFBVSxDQUFDLEdBQVU7SUFDdkMsT0FBTyxLQUFLLENBQUMsR0FBRyxFQUFDLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFDLEVBQUU7UUFDOUMsSUFBRyxRQUFRLENBQUMsRUFBRSxFQUFDO1lBQ1gsT0FBTyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7U0FDekI7YUFBSTtZQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLFFBQVEsQ0FBQyxNQUFNLEtBQUssUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUE7U0FDeEY7SUFDTCxDQUFDLENBQUMsQ0FBQTtBQUNOLENBQUM7QUFSRCxnQ0FRQyJ9","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getFaceFullUrl = void 0;\r\nconst template_1 = require(\"./util/template\");\r\nfunction getFaceFullUrl(face, parentPack) {\r\n    return template_1.processTemplate('{', '}', (str) => {\r\n        if (str == 'p_url') {\r\n            return parentPack.p_url;\r\n        }\r\n        else {\r\n            return `{${str}}`;\r\n        }\r\n    }, face.url);\r\n}\r\nexports.getFaceFullUrl = getFaceFullUrl;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmFjZVBhY2thZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmFjZS1wYWNrL3NyYy9GYWNlUGFja2FnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4Q0FBa0Q7QUFrQ2xELFNBQWdCLGNBQWMsQ0FBQyxJQUFVLEVBQUUsVUFBdUI7SUFDOUQsT0FBTywwQkFBZSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNyQyxJQUFJLEdBQUcsSUFBSSxPQUFPLEVBQUU7WUFDaEIsT0FBTyxVQUFVLENBQUMsS0FBSyxDQUFBO1NBQzFCO2FBQU07WUFDSCxPQUFPLElBQUksR0FBRyxHQUFHLENBQUE7U0FDcEI7SUFDTCxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ2hCLENBQUM7QUFSRCx3Q0FRQyJ9","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst FacePacksImporter_1 = require(\"face-pack/src/FacePacksImporter\");\r\nconst FaceDisplay_1 = __importDefault(require(\"face-pack/src/FaceDisplay/FaceDisplay\"));\r\nconst deploy_1 = require(\"simple-img-modal/src/deploy\");\r\n(async () => {\r\n    const display = new FaceDisplay_1.default(await FacePacksImporter_1.importExternalFacePacks('https://cdn.jsdelivr.net/gh/YukiCat-Dev/yukicat.facepack/facepacks.json'));\r\n    deploy_1._attachListeners(document.querySelectorAll('div.entry-content img:not(.avatar)'));\r\n    deploy_1.showModal();\r\n    document.querySelectorAll('article.hentry p:not(.ct-respond-form-textarea):not(.form-submit)').forEach((v) => {\r\n        display.render(v);\r\n    });\r\n})();\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzcGxheS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9kaXNwbGF5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsdUVBQXlFO0FBQ3pFLHdGQUErRDtBQUMvRCx3REFBeUU7QUFFekUsQ0FBQyxLQUFLLElBQUksRUFBRTtJQUNSLE1BQU0sT0FBTyxHQUFHLElBQUkscUJBQVcsQ0FBQyxNQUFNLDJDQUF1QixDQUFDLHlFQUF5RSxDQUFDLENBQUMsQ0FBQTtJQUN6SSx5QkFBZ0IsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsb0NBQW9DLENBQUMsQ0FBQyxDQUFBO0lBQ2pGLGtCQUFTLEVBQUUsQ0FBQTtJQUNYLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxtRUFBbUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQ3pHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDckIsQ0FBQyxDQUFDLENBQUE7QUFDTixDQUFDLENBQUMsRUFBRSxDQUFBIn0=","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = require(\"../util/template\");\r\nclass FaceDisplay {\r\n    constructor(facePackages, imgClassName = '', imgInlineStyle = '', leftBracket = ':', rightBracket = ':') {\r\n        this._faceMap = new Map();\r\n        this._className = imgClassName;\r\n        this._inlineStyle = imgInlineStyle;\r\n        this.LEFT_BRACKET = leftBracket;\r\n        this.RIGHT_BRACKET = rightBracket;\r\n        for (const pack of facePackages) {\r\n            for (const face of pack.faces) {\r\n                this._faceMap.set(`${pack.id}.${face.id}`, face.url);\r\n            }\r\n        }\r\n    }\r\n    render(onElement) {\r\n        const raw = onElement.innerHTML, result = template_1.processTemplate(this.LEFT_BRACKET, this.RIGHT_BRACKET, this.replacePlaceHolder.bind(this), raw);\r\n        if (result !== raw)\r\n            onElement.innerHTML = result;\r\n    }\r\n    replacePlaceHolder(placeHolder) {\r\n        const url = this._faceMap.get(placeHolder);\r\n        if (url) {\r\n            return `<img class=\"${this._className}\" src=\"${url}\" style=\"${this._inlineStyle} max-height:6vh;\" alt=\"${this.LEFT_BRACKET}${placeHolder}${this.RIGHT_BRACKET}\"/>`;\r\n        }\r\n        else {\r\n            return `${this.LEFT_BRACKET}${placeHolder}${this.RIGHT_BRACKET}`;\r\n        }\r\n    }\r\n}\r\nexports.default = FaceDisplay;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmFjZURpc3BsYXkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmFjZS1wYWNrL3NyYy9GYWNlRGlzcGxheS9GYWNlRGlzcGxheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLCtDQUFrRDtBQUVsRCxNQUFxQixXQUFXO0lBTTVCLFlBQVksWUFBZ0MsRUFBRSxlQUF1QixFQUFFLEVBQUUsaUJBQXlCLEVBQUUsRUFBRSxjQUFzQixHQUFHLEVBQUUsZUFBdUIsR0FBRztRQUhuSixhQUFRLEdBQXdCLElBQUksR0FBRyxFQUFFLENBQUE7UUFJN0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxZQUFZLENBQUE7UUFDOUIsSUFBSSxDQUFDLFlBQVksR0FBRyxjQUFjLENBQUE7UUFDbEMsSUFBSSxDQUFDLFlBQVksR0FBRyxXQUFXLENBQUE7UUFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUE7UUFDakMsS0FBSyxNQUFNLElBQUksSUFBSSxZQUFZLEVBQUU7WUFDN0IsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUMzQixJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTthQUN2RDtTQUNKO0lBQ0wsQ0FBQztJQUNELE1BQU0sQ0FBQyxTQUFnQztRQUNuQyxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsU0FBUyxFQUFFLE1BQU0sR0FBRywwQkFBZSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO1FBQ3pJLElBQUksTUFBTSxLQUFLLEdBQUc7WUFBRSxTQUFTLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQTtJQUNwRCxDQUFDO0lBQ0Qsa0JBQWtCLENBQUMsV0FBbUI7UUFDbEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDMUMsSUFBSSxHQUFHLEVBQUU7WUFDTCxPQUFPLGVBQWUsSUFBSSxDQUFDLFVBQVUsVUFBVSxHQUFHLFlBQVksSUFBSSxDQUFDLFlBQVksMEJBQTBCLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLEtBQUssQ0FBQTtTQUNySzthQUFNO1lBQ0gsT0FBTyxHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQTtTQUNuRTtJQUNMLENBQUM7Q0FDSjtBQTdCRCw4QkE2QkMifQ==","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.hideModal = exports._updateModal = exports.showModal = exports.clickHandler = exports._removeListeners = exports._attachListeners = void 0;\r\nconst Modal_1 = require(\"./Modal\");\r\nconst react_dom_1 = __importDefault(require(\"react-dom\"));\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst container = document.getElementById('imgmodal');\r\nconst regex = /(http[\\S]+) ([0-9]+)w/i;\r\n/**\r\n * Attach 'clickHandler' for each element in nodeList\r\n *\r\n * @author KotoriK\r\n * @export\r\n * @param {NodeListOf<HTMLElement>} nodeList\r\n */\r\nfunction _attachListeners(nodeList) {\r\n    nodeList.forEach((ele) => {\r\n        ele.addEventListener('click', clickHandler);\r\n    });\r\n}\r\nexports._attachListeners = _attachListeners;\r\n/**\r\n * Remove 'clickHandler' for each element in nodeList\r\n *\r\n * @author KotoriK\r\n * @export\r\n * @param {NodeListOf<HTMLElement>} nodeList\r\n */\r\nfunction _removeListeners(nodeList) {\r\n    nodeList.forEach((ele) => {\r\n        ele.removeEventListener('click', clickHandler);\r\n    });\r\n}\r\nexports._removeListeners = _removeListeners;\r\n/**\r\n * Handle clicks on Image\r\n *\r\n * @author KotoriK\r\n * @export\r\n * @param {Event} e\r\n */\r\nfunction clickHandler(e) {\r\n    const img = e.target;\r\n    if (img.dataset.fullUrl) {\r\n        showModal(img.dataset.fullUrl);\r\n    }\r\n    else if (img.srcset) {\r\n        let maxPx = 0, maxPxUrl = '';\r\n        img.srcset.split(',').forEach((i) => {\r\n            const result = regex.exec(i);\r\n            if (result.length == 3) {\r\n                let nowPx = parseInt(result[2]);\r\n                if (nowPx > maxPx) {\r\n                    maxPx = nowPx;\r\n                    maxPxUrl = result[1];\r\n                }\r\n            }\r\n        });\r\n        showModal(maxPxUrl || img.src);\r\n    }\r\n    else {\r\n        showModal(img.src);\r\n    }\r\n}\r\nexports.clickHandler = clickHandler;\r\nfunction showModal(imgSrc) {\r\n    _updateModal(true, imgSrc);\r\n}\r\nexports.showModal = showModal;\r\nfunction _updateModal(opacity, imgSrc) {\r\n    react_dom_1.default.render(react_1.default.createElement(Modal_1.Modal, { imgSrc: imgSrc, opacity: opacity, handleChangeOpacity: _updateModal }), container);\r\n}\r\nexports._updateModal = _updateModal;\r\n/**\r\n * Unload Modal from DOM\r\n *\r\n * @author KotoriK\r\n * @export\r\n */\r\nfunction hideModal() {\r\n    react_dom_1.default.unmountComponentAtNode(container);\r\n}\r\nexports.hideModal = hideModal;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVwbG95LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NpbXBsZS1pbWctbW9kYWwvc3JjL2RlcGxveS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsbUNBQStCO0FBQy9CLDBEQUFnQztBQUNoQyxrREFBeUI7QUFDekIsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNyRCxNQUFNLEtBQUssR0FBRyx3QkFBd0IsQ0FBQTtBQUV0Qzs7Ozs7O0dBTUc7QUFDSCxTQUFnQixnQkFBZ0IsQ0FBQyxRQUFpQztJQUM5RCxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDckIsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQTtJQUMvQyxDQUFDLENBQUMsQ0FBQTtBQUNOLENBQUM7QUFKRCw0Q0FJQztBQUNEOzs7Ozs7R0FNRztBQUNILFNBQWdCLGdCQUFnQixDQUFDLFFBQWlDO0lBRTlELFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNyQixHQUFHLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFBO0lBQ2xELENBQUMsQ0FBQyxDQUFBO0FBQ04sQ0FBQztBQUxELDRDQUtDO0FBRUQ7Ozs7OztHQU1HO0FBQ0gsU0FBZ0IsWUFBWSxDQUFDLENBQVE7SUFDakMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLE1BQTBCLENBQUE7SUFDeEMsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRTtRQUNyQixTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtLQUNqQztTQUFNLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBRTtRQUNuQixJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsUUFBUSxHQUFHLEVBQUUsQ0FBQTtRQUM1QixHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUNoQyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQzVCLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7Z0JBQ3BCLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtnQkFDL0IsSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO29CQUNmLEtBQUssR0FBRyxLQUFLLENBQUE7b0JBQ2IsUUFBUSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtpQkFDdkI7YUFDSjtRQUNMLENBQUMsQ0FBQyxDQUFBO1FBQ0YsU0FBUyxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7S0FDakM7U0FBTTtRQUNILFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7S0FDckI7QUFFTCxDQUFDO0FBckJELG9DQXFCQztBQUNELFNBQWdCLFNBQVMsQ0FBQyxNQUFlO0lBQ3JDLFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUE7QUFDOUIsQ0FBQztBQUZELDhCQUVDO0FBRUQsU0FBZ0IsWUFBWSxDQUFDLE9BQWdCLEVBQUUsTUFBZTtJQUMxRCxtQkFBUSxDQUFDLE1BQU0sQ0FBQyw4QkFBQyxhQUFLLElBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLFlBQVksR0FBSSxFQUFFLFNBQVMsQ0FBQyxDQUFBO0FBQzlHLENBQUM7QUFGRCxvQ0FFQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBZ0IsU0FBUztJQUNyQixtQkFBUSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQzlDLENBQUM7QUFGRCw4QkFFQyJ9","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Modal = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst ImageView_1 = __importDefault(require(\"./ImageView\"));\r\nfunction Modal(props) {\r\n    const opacity = props.imgSrc && props.opacity;\r\n    return (react_1.default.createElement(\"div\", { onClick: () => props.handleChangeOpacity(false, props.imgSrc), style: {\r\n            opacity: opacity ? 1 : 0,\r\n            visibility: (opacity ? 'visible' : 'hidden'),\r\n            position: 'fixed',\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            width: '100%',\r\n            zIndex: 9999,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            backgroundColor: 'rgba(0, 0, 0, 0.50)',\r\n            transition: 'all 550ms cubic-bezier(0.25,0.1,0.25,1)'\r\n        } },\r\n        react_1.default.createElement(\"div\", { style: { margin: '0.8rem', overflow: 'auto', maxHeight: '98vh' } },\r\n            react_1.default.createElement(ImageView_1.default, { key: (props.imgSrc ? props.imgSrc : '#').split('/').pop(), src: props.imgSrc, width: '100%', height: '100%' }))));\r\n}\r\nexports.Modal = Modal;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9kYWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2ltcGxlLWltZy1tb2RhbC9zcmMvTW9kYWwudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGtEQUEwQjtBQUMxQiw0REFBb0M7QUFPcEMsU0FBZ0IsS0FBSyxDQUFDLEtBQWlCO0lBRW5DLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQTtJQUM3QyxPQUFPLENBQUMsdUNBQ0osT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUM3RCxLQUFLLEVBQUU7WUFDSCxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsVUFBVSxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztZQUM1QyxRQUFRLEVBQUUsT0FBTztZQUNqQixHQUFHLEVBQUUsQ0FBQztZQUNOLE1BQU0sRUFBRSxDQUFDO1lBQ1QsSUFBSSxFQUFFLENBQUM7WUFDUCxLQUFLLEVBQUUsQ0FBQztZQUNSLEtBQUssRUFBRSxNQUFNO1lBQ2IsTUFBTSxFQUFFLElBQUk7WUFDWixPQUFPLEVBQUUsTUFBTTtZQUNmLFVBQVUsRUFBRSxRQUFRO1lBQ3BCLGNBQWMsRUFBRSxRQUFRO1lBQ3hCLGVBQWUsRUFBRSxxQkFBcUI7WUFDdEMsVUFBVSxFQUFFLHlDQUF5QztTQUN4RDtRQUdELHVDQUFLLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFO1lBQ2pFLDhCQUFDLG1CQUFTLElBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLE1BQU0sR0FBRyxDQUNwSCxDQUNILENBQ1AsQ0FBQTtBQUNKLENBQUM7QUE1QkQsc0JBNEJDIn0=","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst Indicator_1 = require(\"./Indicator\");\r\n/**\r\n * 显示图片\r\n *\r\n * @author KotoriK\r\n * @class FaceView\r\n * @extends {React.Component<ImageViewProps, ImageViewState>}\r\n */\r\nclass ImageView extends react_1.default.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showIndicator: { level: Indicator_1.IndicateLevel.PRELOAD, style: { ...props.style, width: props.width, height: props.height } },\r\n            loaded: false\r\n        };\r\n    }\r\n    render() {\r\n        return (react_1.default.createElement(\"div\", null,\r\n            this.state.showIndicator && react_1.default.createElement(Indicator_1.Indicator, Object.assign({}, this.state.showIndicator, { style: { ...this.props.style, transition: \"opacity 2s ease\" }, className: this.props.className })),\r\n            react_1.default.createElement(\"img\", { src: this.props.src, style: { ...this.props.style }, className: this.props.className, onLoad: () => {\r\n                    this.setState({ loaded: true, showIndicator: null });\r\n                }, hidden: !this.state.loaded, onError: () => {\r\n                    this.setState({ showIndicator: { level: Indicator_1.IndicateLevel.ERROR }, loaded: false });\r\n                }, width: this.props.width, height: this.props.height })));\r\n    }\r\n}\r\nexports.default = ImageView;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW1hZ2VWaWV3LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NpbXBsZS1pbWctbW9kYWwvc3JjL0ltYWdlVmlldy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxrREFBMEI7QUFDMUIsMkNBQXVFO0FBWXZFOzs7Ozs7R0FNRztBQUNILE1BQXFCLFNBQVUsU0FBUSxlQUFLLENBQUMsU0FBeUM7SUFDbEYsWUFBWSxLQUFxQjtRQUM3QixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDWixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsYUFBYSxFQUFFLEVBQUUsS0FBSyxFQUFFLHlCQUFhLENBQUMsT0FBTyxFQUFDLEtBQUssRUFBQyxFQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsS0FBSyxDQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsS0FBSyxDQUFDLE1BQU0sRUFBQyxFQUFFO1lBQzVHLE1BQU0sRUFBRSxLQUFLO1NBQ2hCLENBQUE7SUFDTCxDQUFDO0lBQ0QsTUFBTTtRQUNGLE9BQU8sQ0FDSDtZQUNLLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxJQUFJLDhCQUFDLHFCQUFTLG9CQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxJQUFFLEtBQUssRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJO1lBQ3hLLHVDQUFLLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFDcEIsS0FBSyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFDL0QsTUFBTSxFQUFFLEdBQUcsRUFBRTtvQkFDVCxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtnQkFDeEQsQ0FBQyxFQUNELE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUMxQixPQUFPLEVBQUUsR0FBRyxFQUFFO29CQUNWLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxhQUFhLEVBQUUsRUFBRSxLQUFLLEVBQUUseUJBQWEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQTtnQkFDbkYsQ0FBQyxFQUFHLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBTSxDQUMxRSxDQUFBO0lBQ0wsQ0FBQztDQUNKO0FBdkJELDRCQXVCQyJ9","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Indicator = exports.IndicateLevel = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst SVG_PRELOAD = \"https://cdn.jsdelivr.net/gh/YukiCat-Dev/FacePack/static/Ripple-1.3s-237px.svg\";\r\n/* const SVG_WARNING = \"https://cdn.jsdelivr.net/gh/YukiCat-Dev/FacePack/static/warning.svg\"\r\nconst SVG_INFO = \"https://cdn.jsdelivr.net/gh/YukiCat-Dev/FacePack/static/info.svg\" */\r\nconst SVG_ERROR = \"https://cdn.jsdelivr.net/gh/YukiCat-Dev/FacePack/static/error.svg\";\r\nvar IndicateLevel;\r\n(function (IndicateLevel) {\r\n    IndicateLevel[IndicateLevel[\"PRELOAD\"] = 0] = \"PRELOAD\";\r\n    /*     INFO ,\r\n        WARNING ,  */\r\n    IndicateLevel[IndicateLevel[\"ERROR\"] = 1] = \"ERROR\";\r\n})(IndicateLevel = exports.IndicateLevel || (exports.IndicateLevel = {}));\r\nconst IndicateLevelSVG = [SVG_PRELOAD, /* SVG_WARNING,SVG_INFO, */ SVG_ERROR];\r\n/**\r\n *一个指示错误的组件\r\n *\r\n * @author KotoriK\r\n * @export\r\n * @param {IndicatorProps} props\r\n * @returns\r\n */\r\nfunction Indicator(props) {\r\n    return (react_1.default.createElement(\"img\", { src: IndicateLevelSVG[props.level], alt: props.description, style: props.style }));\r\n}\r\nexports.Indicator = Indicator;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW5kaWNhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NpbXBsZS1pbWctbW9kYWwvc3JjL0luZGljYXRvci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsa0RBQTBCO0FBRTFCLE1BQU0sV0FBVyxHQUFHLCtFQUErRSxDQUFBO0FBQ25HO3NGQUNzRjtBQUN0RixNQUFNLFNBQVMsR0FBRyxtRUFBbUUsQ0FBQTtBQUNyRixJQUFZLGFBS1g7QUFMRCxXQUFZLGFBQWE7SUFDckIsdURBQU8sQ0FBQTtJQUNQO3FCQUNpQjtJQUNqQixtREFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUxXLGFBQWEsR0FBYixxQkFBYSxLQUFiLHFCQUFhLFFBS3hCO0FBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLFdBQVcsRUFBQywyQkFBMkIsQ0FBQSxTQUFTLENBQUMsQ0FBQTtBQU0zRTs7Ozs7OztHQU9HO0FBQ0gsU0FBZ0IsU0FBUyxDQUFDLEtBQXFCO0lBQzNDLE9BQU8sQ0FDSCx1Q0FBSyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxHQUFJLENBQzFGLENBQUE7QUFDTCxDQUFDO0FBSkQsOEJBSUMifQ=="],"sourceRoot":""}