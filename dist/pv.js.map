{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///./node_modules/swr/node_modules/fast-deep-equal/index.js","webpack:///external \"ReactDOM\"","webpack:///./src/pageview.tsx","webpack:///./node_modules/swr/esm/libs/is-document-visible.js","webpack:///./node_modules/swr/esm/libs/hash.js","webpack:///./node_modules/swr/esm/cache.js","webpack:///./node_modules/swr/esm/config.js","webpack:///./node_modules/swr/esm/libs/is-online.js","webpack:///./node_modules/swr/esm/swr-config-context.js","webpack:///./node_modules/swr/esm/use-swr.js","webpack:///./node_modules/swr/esm/use-swr-infinite.js","webpack:///./node_modules/swr/esm/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","isArray","Array","keyList","keys","hasProp","equal","a","b","length","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","toString","ReactDOM","__importDefault","this","mod","swr_1","react_1","react_dom_1","reg","PageView","path","path_raw","raw","endsWith","data","error","default","fetcher","fetch","then","json","revalidateOnFocus","revalidateOnReconnect","createElement","replace","hit","_a","colle","document","getElementsByClassName","e","attributes","attr","getNamedItem","innerHTML","hydrate","isDocumentVisible","visibilityState","table","WeakMap","counter","Cache","initialData","__cache","Map","entries","__listeners","_key","serializeKey","set","notify","from","has","clear","delete","args","err","_hash","String","hash","subscribe","listener","_this","Error","isSubscribed","push","index","indexOf","_i","slowConnection","window","navigator","effectiveType","onLoadingSlow","onSuccess","onError","onErrorRetry","_","__","config","revalidate","opts","errorRetryCount","retryCount","count","Math","min","timeout","random","errorRetryInterval","setTimeout","focusThrottleInterval","dedupingInterval","loadingTimeout","refreshInterval","refreshWhenHidden","refreshWhenOffline","shouldRetryOnError","suspense","compare","isOnline","onLine","SWRConfigContext","displayName","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","apply","__generator","body","f","y","g","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","IS_SERVER","rIC","useIsomorphicLayoutEffect","CONCURRENT_PROMISES","CONCURRENT_PROMISES_TS","FOCUS_REVALIDATORS","RECONNECT_REVALIDATORS","CACHE_REVALIDATORS","MUTATION_TS","MUTATION_END_TS","addEventListener","revalidate_1","revalidators","trigger","shouldRevalidate","keyErr","updaters","currentData","currentError","promises","all","broadcastState","_data","beforeMutationTs","beforeConcurrentPromisesTs","err_1","err_2","_b","now","SWRConfig","Provider","arguments","fn","fnArgs","assign","configRef","current","initialError","stateDependencies","isValidating","stateRef","rerender","dispatch","payload","shouldUpdateState","k","unmountedRef","keyRef","eventsRef","emit","event","params","boundMutate","addRevalidator","callback","removeRevalidator","revlidators","revalidateOpts","loading","shouldDeduping","newData","startAt","newState","err_3","dedupe","undefined","currentHookData","latestKeyedData","softRevalidate","revalidateOnMount","pending","onFocus","onReconnect","onUpdate","updatedData","updatedError","needUpdate","timer","tick","clearTimeout","latestData","latestError","mutate","state","defineProperties","__rest","getOwnPropertySymbols","propertyIsEnumerable","useSWRInfinite","getKey","initialSize","revalidateAll","_c","persistSize","defaultFetcher","extraConfig","firstPageKey","contextCacheKey","cachedPageSize","pageCountCacheKey","pageCountRef","didMountRef","swr","originalData","force","previousPageData","pageKey","pageArgs","pageData","swrInfinite","size","setSize","arg"],"mappings":"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","file":"pv.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 79);\n","module.exports = React;","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","module.exports = ReactDOM;","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst swr_1 = __importDefault(require(\"swr\"));\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst react_dom_1 = require(\"react-dom\");\r\nconst API_PREFIX = 'https://yukicat-ga-hit.vercel.app/api/ga/?page=';\r\nconst reg = /[0-9]{1,}/;\r\nfunction PageView({ path: path_raw, raw }) {\r\n    const path = path_raw + (path_raw.endsWith('/') ? '' : '/');\r\n    const { data, error } = swr_1.default(API_PREFIX + path, {\r\n        fetcher: (path) => fetch(path).then(r => r.json()), revalidateOnFocus: false, revalidateOnReconnect: false\r\n    });\r\n    return react_1.default.createElement(\"span\", { \"data-raw\": raw }, error ? raw.replace(reg, '-') : (data ? raw.replace(reg, data[0].hit) : raw));\r\n}\r\n(() => {\r\n    var _a;\r\n    const colle = document.getElementsByClassName('meta-page-view');\r\n    for (let i = 0; i < colle.length; i++) {\r\n        const e = colle[i], { attributes: attr } = e, path = (_a = attr.getNamedItem('data-path')) === null || _a === void 0 ? void 0 : _a.value, raw = e.innerHTML;\r\n        react_dom_1.hydrate(react_1.default.createElement(PageView, { path: path, raw: raw }), e);\r\n    }\r\n})();\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZXZpZXcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvcGFnZXZpZXcudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsOENBQXdCO0FBQ3hCLGtEQUF5QjtBQUN6Qix5Q0FBbUM7QUFDbkMsTUFBTSxVQUFVLEdBQUcsaURBQWlELENBQUE7QUFDcEUsTUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFBO0FBQ3ZCLFNBQVMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQWlDO0lBQ3BFLE1BQU0sSUFBSSxHQUFHLFFBQVEsR0FBRyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDM0QsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxhQUFNLENBQUMsVUFBVSxHQUFHLElBQUksRUFBRTtRQUM5QyxPQUFPLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxpQkFBaUIsRUFBRSxLQUFLLEVBQUUscUJBQXFCLEVBQUUsS0FBSztLQUM3RyxDQUFDLENBQUE7SUFDRixPQUFPLG9EQUFnQixHQUFHLElBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQVEsQ0FBQTtBQUNySCxDQUFDO0FBQ0QsQ0FBQyxHQUFHLEVBQUU7O0lBQ0YsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLHNCQUFzQixDQUFDLGdCQUFnQixDQUFDLENBQUE7SUFDL0QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDbkMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUNkLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFDeEIsSUFBSSxTQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLDBDQUFFLEtBQUssRUFDNUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUE7UUFDckIsbUJBQU8sQ0FBQyw4QkFBQyxRQUFRLElBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxHQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUE7S0FDMUQ7QUFDTCxDQUFDLENBQUMsRUFBRSxDQUFBIn0=","export default function isDocumentVisible() {\n    if (typeof document !== 'undefined' &&\n        typeof document.visibilityState !== 'undefined') {\n        return document.visibilityState !== 'hidden';\n    }\n    // always assume it's visible\n    return true;\n}\n","// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nvar table = new WeakMap();\n// counter of the key\nvar counter = 0;\n// hashes an array of objects and returns a string\nexport default function hash(args) {\n    if (!args.length)\n        return '';\n    var key = 'arg';\n    for (var i = 0; i < args.length; ++i) {\n        var _hash = void 0;\n        if (args[i] === null || (typeof args[i] !== 'object' && typeof args[i] !== 'function')) {\n            // need to consider the case that args[i] is a string:\n            // args[i]        _hash\n            // \"undefined\" -> '\"undefined\"'\n            // undefined   -> 'undefined'\n            // 123         -> '123'\n            // null        -> 'null'\n            // \"null\"      -> '\"null\"'\n            if (typeof args[i] === 'string') {\n                _hash = '\"' + args[i] + '\"';\n            }\n            else {\n                _hash = String(args[i]);\n            }\n        }\n        else {\n            if (!table.has(args[i])) {\n                _hash = counter;\n                table.set(args[i], counter++);\n            }\n            else {\n                _hash = table.get(args[i]);\n            }\n        }\n        key += '@' + _hash;\n    }\n    return key;\n}\n","import hash from './libs/hash';\nvar Cache = /** @class */ (function () {\n    function Cache(initialData) {\n        if (initialData === void 0) { initialData = {}; }\n        this.__cache = new Map(Object.entries(initialData));\n        this.__listeners = [];\n    }\n    Cache.prototype.get = function (key) {\n        var _key = this.serializeKey(key)[0];\n        return this.__cache.get(_key);\n    };\n    Cache.prototype.set = function (key, value) {\n        var _key = this.serializeKey(key)[0];\n        this.__cache.set(_key, value);\n        this.notify();\n    };\n    Cache.prototype.keys = function () {\n        return Array.from(this.__cache.keys());\n    };\n    Cache.prototype.has = function (key) {\n        var _key = this.serializeKey(key)[0];\n        return this.__cache.has(_key);\n    };\n    Cache.prototype.clear = function () {\n        this.__cache.clear();\n        this.notify();\n    };\n    Cache.prototype.delete = function (key) {\n        var _key = this.serializeKey(key)[0];\n        this.__cache.delete(_key);\n        this.notify();\n    };\n    // TODO: introduce namespace for the cache\n    Cache.prototype.serializeKey = function (key) {\n        var args = null;\n        if (typeof key === 'function') {\n            try {\n                key = key();\n            }\n            catch (err) {\n                // dependencies not ready\n                key = '';\n            }\n        }\n        if (Array.isArray(key)) {\n            // args array\n            args = key;\n            key = hash(key);\n        }\n        else {\n            // convert null to ''\n            key = String(key || '');\n        }\n        var errorKey = key ? 'err@' + key : '';\n        return [key, args, errorKey];\n    };\n    Cache.prototype.subscribe = function (listener) {\n        var _this = this;\n        if (typeof listener !== 'function') {\n            throw new Error('Expected the listener to be a function.');\n        }\n        var isSubscribed = true;\n        this.__listeners.push(listener);\n        return function () {\n            if (!isSubscribed)\n                return;\n            isSubscribed = false;\n            var index = _this.__listeners.indexOf(listener);\n            if (index > -1) {\n                _this.__listeners[index] = _this.__listeners[_this.__listeners.length - 1];\n                _this.__listeners.length--;\n            }\n        };\n    };\n    // Notify Cache subscribers about a change in the cache\n    Cache.prototype.notify = function () {\n        for (var _i = 0, _a = this.__listeners; _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener();\n        }\n    };\n    return Cache;\n}());\nexport default Cache;\n","import deepEqual from 'fast-deep-equal';\nimport isDocumentVisible from './libs/is-document-visible';\nimport Cache from './cache';\n// cache\nvar cache = new Cache();\n// error retry\nfunction onErrorRetry(_, __, config, revalidate, opts) {\n    if (!isDocumentVisible()) {\n        // if it's hidden, stop\n        // it will auto revalidate when focus\n        return;\n    }\n    if (typeof config.errorRetryCount === 'number' &&\n        opts.retryCount > config.errorRetryCount) {\n        return;\n    }\n    // exponential backoff\n    var count = Math.min(opts.retryCount || 0, 8);\n    var timeout = ~~((Math.random() + 0.5) * (1 << count)) * config.errorRetryInterval;\n    setTimeout(revalidate, timeout, opts);\n}\n// client side: need to adjust the config\n// based on the browser status\n// slow connection (<= 70Kbps)\nvar slowConnection = typeof window !== 'undefined' &&\n    navigator['connection'] &&\n    ['slow-2g', '2g'].indexOf(navigator['connection'].effectiveType) !== -1;\n// config\nvar defaultConfig = {\n    // events\n    onLoadingSlow: function () { },\n    onSuccess: function () { },\n    onError: function () { },\n    onErrorRetry: onErrorRetry,\n    errorRetryInterval: (slowConnection ? 10 : 5) * 1000,\n    focusThrottleInterval: 5 * 1000,\n    dedupingInterval: 2 * 1000,\n    loadingTimeout: (slowConnection ? 5 : 3) * 1000,\n    refreshInterval: 0,\n    revalidateOnFocus: true,\n    revalidateOnReconnect: true,\n    refreshWhenHidden: false,\n    refreshWhenOffline: false,\n    shouldRetryOnError: true,\n    suspense: false,\n    compare: deepEqual\n};\nexport { cache };\nexport default defaultConfig;\n","export default function isOnline() {\n    if (typeof navigator.onLine !== 'undefined') {\n        return navigator.onLine;\n    }\n    // always assume it's online\n    return true;\n}\n","import { createContext } from 'react';\nvar SWRConfigContext = createContext({});\nSWRConfigContext.displayName = 'SWRConfigContext';\nexport default SWRConfigContext;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback, useContext, useEffect, useLayoutEffect, useState, useRef, useMemo, useDebugValue } from 'react';\nimport defaultConfig, { cache } from './config';\nimport isDocumentVisible from './libs/is-document-visible';\nimport isOnline from './libs/is-online';\nimport SWRConfigContext from './swr-config-context';\nvar IS_SERVER = typeof window === 'undefined';\n// polyfill for requestIdleCallback\nvar rIC = IS_SERVER\n    ? null\n    : window['requestIdleCallback'] || (function (f) { return setTimeout(f, 1); });\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nvar useIsomorphicLayoutEffect = IS_SERVER ? useEffect : useLayoutEffect;\n// global state managers\nvar CONCURRENT_PROMISES = {};\nvar CONCURRENT_PROMISES_TS = {};\nvar FOCUS_REVALIDATORS = {};\nvar RECONNECT_REVALIDATORS = {};\nvar CACHE_REVALIDATORS = {};\nvar MUTATION_TS = {};\nvar MUTATION_END_TS = {};\n// setup DOM events listeners for `focus` and `reconnect` actions\nif (!IS_SERVER && window.addEventListener) {\n    var revalidate_1 = function (revalidators) {\n        if (!isDocumentVisible() || !isOnline())\n            return;\n        for (var key in revalidators) {\n            if (revalidators[key][0])\n                revalidators[key][0]();\n        }\n    };\n    // focus revalidate\n    window.addEventListener('visibilitychange', function () { return revalidate_1(FOCUS_REVALIDATORS); }, false);\n    window.addEventListener('focus', function () { return revalidate_1(FOCUS_REVALIDATORS); }, false);\n    // reconnect revalidate\n    window.addEventListener('online', function () { return revalidate_1(RECONNECT_REVALIDATORS); }, false);\n}\nvar trigger = function (_key, shouldRevalidate) {\n    if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n    // we are ignoring the second argument which correspond to the arguments\n    // the fetcher will receive when key is an array\n    var _a = cache.serializeKey(_key), key = _a[0], keyErr = _a[2];\n    if (!key)\n        return Promise.resolve();\n    var updaters = CACHE_REVALIDATORS[key];\n    if (key && updaters) {\n        var currentData = cache.get(key);\n        var currentError = cache.get(keyErr);\n        var promises = [];\n        for (var i = 0; i < updaters.length; ++i) {\n            promises.push(updaters[i](shouldRevalidate, currentData, currentError, i > 0));\n        }\n        // return new updated value\n        return Promise.all(promises).then(function () { return cache.get(key); });\n    }\n    return Promise.resolve(cache.get(key));\n};\nvar broadcastState = function (key, data, error) {\n    var updaters = CACHE_REVALIDATORS[key];\n    if (key && updaters) {\n        for (var i = 0; i < updaters.length; ++i) {\n            updaters[i](false, data, error);\n        }\n    }\n};\nvar mutate = function (_key, _data, shouldRevalidate) {\n    if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var _a, key, keyErr, beforeMutationTs, beforeConcurrentPromisesTs, data, error, err_1, err_2, updaters, promises, i;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = cache.serializeKey(_key), key = _a[0], keyErr = _a[2];\n                    if (!key)\n                        return [2 /*return*/];\n                    // if there is no new data, call revalidate against the key\n                    if (typeof _data === 'undefined')\n                        return [2 /*return*/, trigger(_key, shouldRevalidate)\n                            // update timestamps\n                        ];\n                    // update timestamps\n                    MUTATION_TS[key] = Date.now() - 1;\n                    MUTATION_END_TS[key] = 0;\n                    beforeMutationTs = MUTATION_TS[key];\n                    beforeConcurrentPromisesTs = CONCURRENT_PROMISES_TS[key];\n                    if (!(_data && typeof _data === 'function')) return [3 /*break*/, 5];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, _data(cache.get(key))];\n                case 2:\n                    data = _b.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_1 = _b.sent();\n                    error = err_1;\n                    return [3 /*break*/, 4];\n                case 4: return [3 /*break*/, 11];\n                case 5:\n                    if (!(_data && typeof _data.then === 'function')) return [3 /*break*/, 10];\n                    _b.label = 6;\n                case 6:\n                    _b.trys.push([6, 8, , 9]);\n                    return [4 /*yield*/, _data];\n                case 7:\n                    data = _b.sent();\n                    return [3 /*break*/, 9];\n                case 8:\n                    err_2 = _b.sent();\n                    error = err_2;\n                    return [3 /*break*/, 9];\n                case 9: return [3 /*break*/, 11];\n                case 10:\n                    data = _data;\n                    _b.label = 11;\n                case 11:\n                    // check if other mutations have occurred since we've started awaiting, if so then do not persist this change\n                    if (beforeMutationTs !== MUTATION_TS[key] ||\n                        beforeConcurrentPromisesTs !== CONCURRENT_PROMISES_TS[key]) {\n                        if (error)\n                            throw error;\n                        return [2 /*return*/, data];\n                    }\n                    if (typeof data !== 'undefined') {\n                        // update cached data, avoid notifying from the cache\n                        cache.set(key, data);\n                    }\n                    cache.set(keyErr, error);\n                    // reset the timestamp to mark the mutation has ended\n                    MUTATION_END_TS[key] = Date.now() - 1;\n                    updaters = CACHE_REVALIDATORS[key];\n                    if (updaters) {\n                        promises = [];\n                        for (i = 0; i < updaters.length; ++i) {\n                            promises.push(updaters[i](!!shouldRevalidate, data, error, i > 0));\n                        }\n                        // return new updated value\n                        return [2 /*return*/, Promise.all(promises).then(function () {\n                                if (error)\n                                    throw error;\n                                return cache.get(key);\n                            })];\n                    }\n                    // throw error or return data to be used by caller of mutate\n                    if (error)\n                        throw error;\n                    return [2 /*return*/, data];\n            }\n        });\n    });\n};\nfunction useSWR() {\n    var _this = this;\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var _key, fn, config = {};\n    if (args.length >= 1) {\n        _key = args[0];\n    }\n    if (args.length > 2) {\n        fn = args[1];\n        config = args[2];\n    }\n    else {\n        if (typeof args[1] === 'function') {\n            fn = args[1];\n        }\n        else if (typeof args[1] === 'object') {\n            config = args[1];\n        }\n    }\n    // we assume `key` as the identifier of the request\n    // `key` can change but `fn` shouldn't\n    // (because `revalidate` only depends on `key`)\n    // `keyErr` is the cache key for error objects\n    var _a = cache.serializeKey(_key), key = _a[0], fnArgs = _a[1], keyErr = _a[2];\n    config = Object.assign({}, defaultConfig, useContext(SWRConfigContext), config);\n    var configRef = useRef(config);\n    useIsomorphicLayoutEffect(function () {\n        configRef.current = config;\n    });\n    if (typeof fn === 'undefined') {\n        // use the global fetcher\n        fn = config.fetcher;\n    }\n    var initialData = cache.get(key) || config.initialData;\n    var initialError = cache.get(keyErr);\n    // if a state is accessed (data, error or isValidating),\n    // we add the state to dependencies so if the state is\n    // updated in the future, we can trigger a rerender\n    var stateDependencies = useRef({\n        data: false,\n        error: false,\n        isValidating: false\n    });\n    var stateRef = useRef({\n        data: initialData,\n        error: initialError,\n        isValidating: false\n    });\n    // display the data label in the React DevTools next to SWR hooks\n    useDebugValue(stateRef.current.data);\n    var rerender = useState(null)[1];\n    var dispatch = useCallback(function (payload) {\n        var shouldUpdateState = false;\n        for (var k in payload) {\n            if (stateRef.current[k] === payload[k]) {\n                continue;\n            }\n            stateRef.current[k] = payload[k];\n            if (stateDependencies.current[k]) {\n                shouldUpdateState = true;\n            }\n        }\n        if (shouldUpdateState || config.suspense) {\n            if (unmountedRef.current)\n                return;\n            rerender({});\n        }\n    }, []);\n    // error ref inside revalidate (is last request errored?)\n    var unmountedRef = useRef(false);\n    var keyRef = useRef(key);\n    // do unmount check for callbacks\n    var eventsRef = useRef({\n        emit: function (event) {\n            var _a;\n            var params = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                params[_i - 1] = arguments[_i];\n            }\n            if (unmountedRef.current)\n                return;\n            (_a = configRef.current)[event].apply(_a, params);\n        }\n    });\n    var boundMutate = useCallback(function (data, shouldRevalidate) {\n        return mutate(key, data, shouldRevalidate);\n    }, [key]);\n    var addRevalidator = function (revalidators, callback) {\n        if (!callback)\n            return;\n        if (!revalidators[key]) {\n            revalidators[key] = [callback];\n        }\n        else {\n            revalidators[key].push(callback);\n        }\n    };\n    var removeRevalidator = function (revlidators, callback) {\n        if (revlidators[key]) {\n            var revalidators = revlidators[key];\n            var index = revalidators.indexOf(callback);\n            if (index >= 0) {\n                // 10x faster than splice\n                // https://jsperf.com/array-remove-by-index\n                revalidators[index] = revalidators[revalidators.length - 1];\n                revalidators.pop();\n            }\n        }\n    };\n    // start a revalidation\n    var revalidate = useCallback(function (revalidateOpts) {\n        if (revalidateOpts === void 0) { revalidateOpts = {}; }\n        return __awaiter(_this, void 0, void 0, function () {\n            var loading, shouldDeduping, newData, startAt, shouldIgnoreRequest, newState, err_3, retryCount;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!key || !fn)\n                            return [2 /*return*/, false];\n                        if (unmountedRef.current)\n                            return [2 /*return*/, false];\n                        revalidateOpts = Object.assign({ dedupe: false }, revalidateOpts);\n                        loading = true;\n                        shouldDeduping = typeof CONCURRENT_PROMISES[key] !== 'undefined' && revalidateOpts.dedupe;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 6, , 7]);\n                        dispatch({\n                            isValidating: true\n                        });\n                        newData = void 0;\n                        startAt = void 0;\n                        if (!shouldDeduping) return [3 /*break*/, 3];\n                        // there's already an ongoing request,\n                        // this one needs to be deduplicated.\n                        startAt = CONCURRENT_PROMISES_TS[key];\n                        return [4 /*yield*/, CONCURRENT_PROMISES[key]];\n                    case 2:\n                        newData = _a.sent();\n                        return [3 /*break*/, 5];\n                    case 3:\n                        // if no cache being rendered currently (it shows a blank page),\n                        // we trigger the loading slow event.\n                        if (config.loadingTimeout && !cache.get(key)) {\n                            setTimeout(function () {\n                                if (loading)\n                                    eventsRef.current.emit('onLoadingSlow', key, config);\n                            }, config.loadingTimeout);\n                        }\n                        if (fnArgs !== null) {\n                            CONCURRENT_PROMISES[key] = fn.apply(void 0, fnArgs);\n                        }\n                        else {\n                            CONCURRENT_PROMISES[key] = fn(key);\n                        }\n                        CONCURRENT_PROMISES_TS[key] = startAt = Date.now();\n                        return [4 /*yield*/, CONCURRENT_PROMISES[key]];\n                    case 4:\n                        newData = _a.sent();\n                        setTimeout(function () {\n                            delete CONCURRENT_PROMISES[key];\n                            delete CONCURRENT_PROMISES_TS[key];\n                        }, config.dedupingInterval);\n                        // trigger the success event,\n                        // only do this for the original request.\n                        eventsRef.current.emit('onSuccess', newData, key, config);\n                        _a.label = 5;\n                    case 5:\n                        shouldIgnoreRequest = \n                        // if there're other ongoing request(s), started after the current one,\n                        // we need to ignore the current one to avoid possible race conditions:\n                        //   req1------------------>res1        (current one)\n                        //        req2---------------->res2\n                        // the request that fired later will always be kept.\n                        CONCURRENT_PROMISES_TS[key] > startAt ||\n                            // if there're other mutations(s), overlapped with the current revalidation:\n                            // case 1:\n                            //   req------------------>res\n                            //       mutate------>end\n                            // case 2:\n                            //         req------------>res\n                            //   mutate------>end\n                            // case 3:\n                            //   req------------------>res\n                            //       mutate-------...---------->\n                            // we have to ignore the revalidation result (res) because it's no longer fresh.\n                            // meanwhile, a new revalidation should be triggered when the mutation ends.\n                            (MUTATION_TS[key] &&\n                                // case 1\n                                (startAt <= MUTATION_TS[key] ||\n                                    // case 2\n                                    startAt <= MUTATION_END_TS[key] ||\n                                    // case 3\n                                    MUTATION_END_TS[key] === 0));\n                        if (shouldIgnoreRequest) {\n                            dispatch({ isValidating: false });\n                            return [2 /*return*/, false];\n                        }\n                        cache.set(key, newData);\n                        cache.set(keyErr, undefined);\n                        newState = {\n                            isValidating: false\n                        };\n                        if (typeof stateRef.current.error !== 'undefined') {\n                            // we don't have an error\n                            newState.error = undefined;\n                        }\n                        if (!config.compare(stateRef.current.data, newData)) {\n                            // deep compare to avoid extra re-render\n                            // data changed\n                            newState.data = newData;\n                        }\n                        // merge the new state\n                        dispatch(newState);\n                        if (!shouldDeduping) {\n                            // also update other hooks\n                            broadcastState(key, newData, undefined);\n                        }\n                        return [3 /*break*/, 7];\n                    case 6:\n                        err_3 = _a.sent();\n                        delete CONCURRENT_PROMISES[key];\n                        delete CONCURRENT_PROMISES_TS[key];\n                        cache.set(keyErr, err_3);\n                        // get a new error\n                        // don't use deep equal for errors\n                        if (stateRef.current.error !== err_3) {\n                            // we keep the stale data\n                            dispatch({\n                                isValidating: false,\n                                error: err_3\n                            });\n                            if (!shouldDeduping) {\n                                // also broadcast to update other hooks\n                                broadcastState(key, undefined, err_3);\n                            }\n                        }\n                        // events and retry\n                        eventsRef.current.emit('onError', err_3, key, config);\n                        if (config.shouldRetryOnError) {\n                            retryCount = (revalidateOpts.retryCount || 0) + 1;\n                            eventsRef.current.emit('onErrorRetry', err_3, key, config, revalidate, Object.assign({ dedupe: true }, revalidateOpts, { retryCount: retryCount }));\n                        }\n                        return [3 /*break*/, 7];\n                    case 7:\n                        loading = false;\n                        return [2 /*return*/, true];\n                }\n            });\n        });\n    }, [key]);\n    // mounted (client side rendering)\n    useIsomorphicLayoutEffect(function () {\n        if (!key)\n            return undefined;\n        // after `key` updates, we need to mark it as mounted\n        unmountedRef.current = false;\n        // after the component is mounted (hydrated),\n        // we need to update the data from the cache\n        // and trigger a revalidation\n        var currentHookData = stateRef.current.data;\n        var latestKeyedData = cache.get(key) || config.initialData;\n        // update the state if the key changed (not the inital render) or cache updated\n        if (keyRef.current !== key) {\n            keyRef.current = key;\n        }\n        if (!config.compare(currentHookData, latestKeyedData)) {\n            dispatch({ data: latestKeyedData });\n        }\n        // revalidate with deduping\n        var softRevalidate = function () { return revalidate({ dedupe: true }); };\n        // trigger a revalidation\n        if (config.revalidateOnMount ||\n            (!config.initialData && config.revalidateOnMount === undefined)) {\n            if (typeof latestKeyedData !== 'undefined') {\n                // delay revalidate if there's cache\n                // to not block the rendering\n                rIC(softRevalidate);\n            }\n            else {\n                softRevalidate();\n            }\n        }\n        var pending = false;\n        var onFocus = function () {\n            if (pending || !configRef.current.revalidateOnFocus)\n                return;\n            pending = true;\n            softRevalidate();\n            setTimeout(function () { return (pending = false); }, configRef.current.focusThrottleInterval);\n        };\n        var onReconnect = function () {\n            if (configRef.current.revalidateOnReconnect) {\n                softRevalidate();\n            }\n        };\n        // register global cache update listener\n        var onUpdate = function (shouldRevalidate, updatedData, updatedError, dedupe) {\n            if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n            if (dedupe === void 0) { dedupe = true; }\n            // update hook state\n            var newState = {};\n            var needUpdate = false;\n            if (typeof updatedData !== 'undefined' &&\n                !config.compare(stateRef.current.data, updatedData)) {\n                newState.data = updatedData;\n                needUpdate = true;\n            }\n            // always update error\n            // because it can be `undefined`\n            if (stateRef.current.error !== updatedError) {\n                newState.error = updatedError;\n                needUpdate = true;\n            }\n            if (needUpdate) {\n                dispatch(newState);\n            }\n            if (shouldRevalidate) {\n                if (dedupe) {\n                    return softRevalidate();\n                }\n                else {\n                    return revalidate();\n                }\n            }\n            return false;\n        };\n        addRevalidator(FOCUS_REVALIDATORS, onFocus);\n        addRevalidator(RECONNECT_REVALIDATORS, onReconnect);\n        addRevalidator(CACHE_REVALIDATORS, onUpdate);\n        return function () {\n            // cleanup\n            dispatch = function () { return null; };\n            // mark it as unmounted\n            unmountedRef.current = true;\n            removeRevalidator(FOCUS_REVALIDATORS, onFocus);\n            removeRevalidator(RECONNECT_REVALIDATORS, onReconnect);\n            removeRevalidator(CACHE_REVALIDATORS, onUpdate);\n        };\n    }, [key, revalidate]);\n    // set up polling\n    useIsomorphicLayoutEffect(function () {\n        var timer = null;\n        var tick = function () { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(!stateRef.current.error &&\n                            (config.refreshWhenHidden || isDocumentVisible()) &&\n                            (config.refreshWhenOffline || isOnline()))) return [3 /*break*/, 2];\n                        // only revalidate when the page is visible\n                        // if API request errored, we stop polling in this round\n                        // and let the error retry function handle it\n                        return [4 /*yield*/, revalidate({ dedupe: true })];\n                    case 1:\n                        // only revalidate when the page is visible\n                        // if API request errored, we stop polling in this round\n                        // and let the error retry function handle it\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (config.refreshInterval) {\n                            timer = setTimeout(tick, config.refreshInterval);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        if (config.refreshInterval) {\n            timer = setTimeout(tick, config.refreshInterval);\n        }\n        return function () {\n            if (timer)\n                clearTimeout(timer);\n        };\n    }, [\n        config.refreshInterval,\n        config.refreshWhenHidden,\n        config.refreshWhenOffline,\n        revalidate\n    ]);\n    // suspense\n    if (config.suspense) {\n        // in suspense mode, we can't return empty state\n        // (it should be suspended)\n        // try to get data and error from cache\n        var latestData = cache.get(key);\n        var latestError = cache.get(keyErr);\n        if (typeof latestData === 'undefined') {\n            latestData = initialData;\n        }\n        if (typeof latestError === 'undefined') {\n            latestError = initialError;\n        }\n        if (typeof latestData === 'undefined' &&\n            typeof latestError === 'undefined') {\n            // need to start the request if it hasn't\n            if (!CONCURRENT_PROMISES[key]) {\n                // trigger revalidate immediately\n                // to get the promise\n                revalidate();\n            }\n            if (CONCURRENT_PROMISES[key] &&\n                typeof CONCURRENT_PROMISES[key].then === 'function') {\n                // if it is a promise\n                throw CONCURRENT_PROMISES[key];\n            }\n            // it's a value, return it directly (override)\n            latestData = CONCURRENT_PROMISES[key];\n        }\n        if (typeof latestData === 'undefined' && latestError) {\n            // in suspense mode, throw error if there's no content\n            throw latestError;\n        }\n        // return the latest data / error from cache\n        // in case `key` has changed\n        return {\n            error: latestError,\n            data: latestData,\n            revalidate: revalidate,\n            mutate: boundMutate,\n            isValidating: stateRef.current.isValidating\n        };\n    }\n    // define returned state\n    // can be memorized since the state is a ref\n    return useMemo(function () {\n        var state = { revalidate: revalidate, mutate: boundMutate };\n        Object.defineProperties(state, {\n            error: {\n                // `key` might be changed in the upcoming hook re-render,\n                // but the previous state will stay\n                // so we need to match the latest key and data (fallback to `initialData`)\n                get: function () {\n                    stateDependencies.current.error = true;\n                    return keyRef.current === key ? stateRef.current.error : initialError;\n                },\n                enumerable: true\n            },\n            data: {\n                get: function () {\n                    stateDependencies.current.data = true;\n                    return keyRef.current === key ? stateRef.current.data : initialData;\n                },\n                enumerable: true\n            },\n            isValidating: {\n                get: function () {\n                    stateDependencies.current.isValidating = true;\n                    return stateRef.current.isValidating;\n                },\n                enumerable: true\n            }\n        });\n        return state;\n    }, [revalidate]);\n}\nvar SWRConfig = SWRConfigContext.Provider;\nexport { trigger, mutate, SWRConfig };\nexport default useSWR;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useContext, useRef, useState, useEffect, useCallback } from 'react';\nimport defaultConfig, { cache } from './config';\nimport SWRConfigContext from './swr-config-context';\nimport useSWR from './use-swr';\nfunction useSWRInfinite() {\n    var _this = this;\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var getKey, fn, config = {};\n    if (args.length >= 1) {\n        getKey = args[0];\n    }\n    if (args.length > 2) {\n        fn = args[1];\n        config = args[2];\n    }\n    else {\n        if (typeof args[1] === 'function') {\n            fn = args[1];\n        }\n        else if (typeof args[1] === 'object') {\n            config = args[1];\n        }\n    }\n    config = Object.assign({}, defaultConfig, useContext(SWRConfigContext), config);\n    var _a = config.initialSize, initialSize = _a === void 0 ? 1 : _a, _b = config.revalidateAll, revalidateAll = _b === void 0 ? false : _b, _c = config.persistSize, persistSize = _c === void 0 ? false : _c, defaultFetcher = config.fetcher, extraConfig = __rest(config, [\"initialSize\", \"revalidateAll\", \"persistSize\", \"fetcher\"]);\n    if (typeof fn === 'undefined') {\n        // use the global fetcher\n        // we have to convert the type here\n        fn = defaultFetcher;\n    }\n    // get the serialized key of the first page\n    var firstPageKey = null;\n    try {\n        ;\n        firstPageKey = cache.serializeKey(getKey(0, null))[0];\n    }\n    catch (err) {\n        // not ready\n    }\n    var rerender = useState(false)[1];\n    // we use cache to pass extra info (context) to fetcher so it can be globally shared\n    // here we get the key of the fetcher context cache\n    var contextCacheKey = null;\n    if (firstPageKey) {\n        contextCacheKey = 'context@' + firstPageKey;\n    }\n    // page count is cached as well, so when navigating the list can be restored\n    var pageCountCacheKey = null;\n    var cachedPageSize;\n    if (firstPageKey) {\n        pageCountCacheKey = 'size@' + firstPageKey;\n        cachedPageSize = cache.get(pageCountCacheKey);\n    }\n    var pageCountRef = useRef(cachedPageSize || initialSize);\n    var didMountRef = useRef(false);\n    // every time the key changes, we reset the page size if it's not persisted\n    useEffect(function () {\n        if (didMountRef.current) {\n            if (!persistSize) {\n                pageCountRef.current = initialSize;\n            }\n        }\n        else {\n            didMountRef.current = true;\n        }\n    }, [firstPageKey]);\n    // actual swr of all pages\n    var swr = useSWR(firstPageKey ? ['many', firstPageKey] : null, function () { return __awaiter(_this, void 0, void 0, function () {\n        var _a, originalData, force, data, previousPageData, i, _b, pageKey, pageArgs, pageData, shouldRevalidatePage;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _a = cache.get(contextCacheKey) || {}, originalData = _a.originalData, force = _a.force;\n                    data = [];\n                    previousPageData = null;\n                    i = 0;\n                    _c.label = 1;\n                case 1:\n                    if (!(i < pageCountRef.current)) return [3 /*break*/, 8];\n                    _b = cache.serializeKey(getKey(i, previousPageData)), pageKey = _b[0], pageArgs = _b[1];\n                    if (!pageKey) {\n                        // pageKey is falsy, stop fetching next pages\n                        return [3 /*break*/, 8];\n                    }\n                    pageData = cache.get(pageKey);\n                    shouldRevalidatePage = revalidateAll ||\n                        force ||\n                        (typeof force === 'undefined' && i === 0) ||\n                        (originalData && !config.compare(originalData[i], pageData)) ||\n                        typeof pageData === 'undefined';\n                    if (!shouldRevalidatePage) return [3 /*break*/, 6];\n                    if (!(pageArgs !== null)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, fn.apply(void 0, pageArgs)];\n                case 2:\n                    pageData = _c.sent();\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, fn(pageKey)];\n                case 4:\n                    pageData = _c.sent();\n                    _c.label = 5;\n                case 5:\n                    cache.set(pageKey, pageData);\n                    _c.label = 6;\n                case 6:\n                    data.push(pageData);\n                    previousPageData = pageData;\n                    _c.label = 7;\n                case 7:\n                    ++i;\n                    return [3 /*break*/, 1];\n                case 8:\n                    // once we executed the data fetching based on the context, clear the context\n                    cache.delete(contextCacheKey);\n                    // return the data\n                    return [2 /*return*/, data];\n            }\n        });\n    }); }, extraConfig);\n    var swrInfinite = swr;\n    // extend the SWR API\n    var mutate = swrInfinite.mutate;\n    swrInfinite.size = pageCountRef.current;\n    swrInfinite.mutate = useCallback(function (data, shouldRevalidate) {\n        if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n        if (shouldRevalidate && typeof data !== 'undefined') {\n            // we only revalidate the pages that are changed\n            var originalData = swrInfinite.data;\n            cache.set(contextCacheKey, { originalData: originalData, force: false });\n        }\n        else if (shouldRevalidate) {\n            // calling `mutate()`, we revalidate all pages\n            cache.set(contextCacheKey, { force: true });\n        }\n        return mutate(data, shouldRevalidate);\n    }, [mutate, swrInfinite.data, contextCacheKey]);\n    swrInfinite.setSize = useCallback(function (arg) {\n        if (typeof arg === 'function') {\n            pageCountRef.current = arg(pageCountRef.current);\n        }\n        else if (typeof arg === 'number') {\n            pageCountRef.current = arg;\n        }\n        cache.set(pageCountCacheKey, pageCountRef.current);\n        rerender(function (v) { return !v; });\n        return swrInfinite.mutate(function (v) { return v; });\n    }, [swrInfinite.mutate, pageCountCacheKey]);\n    return swrInfinite;\n}\nexport { useSWRInfinite };\n","export * from './use-swr';\nimport { default as useSWR } from './use-swr';\nexport { useSWRInfinite } from './use-swr-infinite';\nexport { cache } from './config';\nexport default useSWR;\n"],"sourceRoot":""}